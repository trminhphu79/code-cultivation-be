{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///external commonjs \"@nestjs/common\"","webpack:///external commonjs \"@nestjs/core\"","webpack:///external commonjs \"@nestjs/swagger\"","webpack:///./src/app/app.module.ts","webpack:///external commonjs \"tslib\"","webpack:///./src/app/account/auth/auth.module.ts","webpack:///./src/app/account/auth/auth.controller.ts","webpack:///external commonjs \"@nestjs/microservices\"","webpack:///../../shared/message-pattern/src/lib/account/index.ts","webpack:///../../shared/message-pattern/src/lib/account/auth-pattern.ts","webpack:///../../shared/message-pattern/src/lib/account/module.ts","webpack:///../../shared/message-pattern/src/lib/index.ts","webpack:///../../shared/message-pattern/src/lib/account/profile-pattern.ts","webpack:///../../shared/dtos/src/account/index.ts","webpack:///../../shared/dtos/src/account/sign-in.dto.ts","webpack:///external commonjs \"class-validator\"","webpack:///../../shared/dtos/src/account/deactivate.dto.ts","webpack:///../../shared/dtos/src/account/sign-in-oauth.dto.ts","webpack:///../../shared/dtos/src/account/create-account.dto.ts","webpack:///../../shared/validations/src/password-validation.ts","webpack:///../../shared/validations/src/password-match.ts","webpack:///../../shared/dtos/src/account/change-password.dto.ts","webpack:///../../shared/guard/src/index.ts","webpack:///../../shared/guard/src/guard.guard.ts","webpack:///external commonjs \"@nestjs/jwt\"","webpack:///../../shared/guard/src/public.decorator.ts","webpack:///./src/app/account/profile/profile.module.ts","webpack:///./src/app/account/profile/profile.controller.ts","webpack:///../../shared/nats-client/src/index.ts","webpack:///../../shared/nats-client/src/lib/nats-client.module.ts","webpack:///../../shared/configs/src/index.ts","webpack:///../../shared/configs/src/lib/config.model.ts","webpack:///../../shared/configs/src/lib/configuration.ts","webpack:///external commonjs \"@nestjs/config\"","webpack:///../../shared/jwt/src/index.ts","webpack:///../../shared/jwt/src/jwt.module.ts","webpack:///webpack/bootstrap","webpack:///./src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/swagger\");","import { Module } from '@nestjs/common';\r\nimport { AuthModule } from './account/auth/auth.module';\r\nimport { ProfileModule } from './account/profile/profile.module';\r\nimport { NatsClientModule } from '@shared/nats-client';\r\nimport { Configurations } from '@shared/configs';\r\nimport { ConfigModule } from '@nestjs/config';\r\nimport { JwtGlobalModule } from '@shared/jwt';\r\nimport { JwtService } from '@nestjs/jwt';\r\nimport { APP_GUARD } from '@nestjs/core';\r\nimport { AuthGuard } from '@shared/guard';\r\n\r\n@Module({\r\n  imports: [\r\n    AuthModule,\r\n    ProfileModule,\r\n    JwtGlobalModule,\r\n    NatsClientModule,\r\n    ConfigModule.forRoot({\r\n      load: [Configurations],\r\n      isGlobal: true,\r\n    }),\r\n  ],\r\n  controllers: [],\r\n  providers: [\r\n    JwtService,\r\n    {\r\n      provide: APP_GUARD,\r\n      useClass: AuthGuard,\r\n    },\r\n  ],\r\n})\r\nexport class AppModule {}\r\n","module.exports = require(\"tslib\");","import { Module } from '@nestjs/common';\r\nimport { AuthController } from './auth.controller';\r\n\r\n@Module({\r\n  controllers: [AuthController],\r\n})\r\nexport class AuthModule {}\r\n","import {\r\n  Body,\r\n  Controller,\r\n  HttpStatus,\r\n  Inject,\r\n  Patch,\r\n  Post,\r\n} from '@nestjs/common';\r\nimport { ClientProxy } from '@nestjs/microservices';\r\nimport { ApiOperation, ApiResponse } from '@nestjs/swagger';\r\nimport { AuthMsgPattern } from '@shared/message-pattern/account';\r\nimport {\r\n  ChangePasswordDto,\r\n  CreateAccountDto,\r\n  DeactivateDto,\r\n  SignInDto,\r\n  SignInOauth,\r\n} from 'shared/dtos/src/account';\r\nimport { Public } from '@shared/guard';\r\n\r\n@Controller('auth')\r\nexport class AuthController {\r\n  constructor(\r\n    @Inject('NATS_SERVICE')\r\n    private natsClient: ClientProxy\r\n  ) {}\r\n\r\n  @Post('signIn')\r\n  @Public()\r\n  @ApiResponse({\r\n    status: HttpStatus.CONFLICT,\r\n    description: 'Password is incorrect',\r\n  })\r\n  @ApiOperation({ summary: 'Sign in with email and password' })\r\n  signIn(@Body() body: SignInDto) {\r\n    return this.natsClient.send(AuthMsgPattern.SignIn, body);\r\n  }\r\n\r\n  @Post('oauth')\r\n  @Public()\r\n  @ApiOperation({ summary: 'Sign in with github or facebook' })\r\n  signInOauth(@Body() body: SignInOauth) {\r\n    console.log('signInOauth: ', body);\r\n    return this.natsClient.send(AuthMsgPattern.SignInOauth, body);\r\n  }\r\n\r\n  @Post('signUp')\r\n  @Public()\r\n  @ApiOperation({ summary: 'Sign up with email and password' })\r\n  signUp(@Body() body: CreateAccountDto) {\r\n    return this.natsClient.send(AuthMsgPattern.SignUp, body);\r\n  }\r\n\r\n  @Patch('changePassword')\r\n  @ApiOperation({ summary: 'Change password only for user login by email' })\r\n  changePassword(\r\n    @Body()\r\n    body: ChangePasswordDto\r\n  ) {\r\n    return this.natsClient.send(AuthMsgPattern.SignUp, body);\r\n  }\r\n\r\n  @Patch('deactivate')\r\n  @ApiOperation({ summary: 'deactivate account only for user login by email' })\r\n  deactivate(@Body() body: DeactivateDto) {\r\n    return this.natsClient.send(AuthMsgPattern.Deactivate, body);\r\n  }\r\n}\r\n","module.exports = require(\"@nestjs/microservices\");","export * from './auth-pattern';\r\nexport * from './profile-pattern';","import { AccountModule } from './module';\r\n\r\nexport const AuthMsgPattern = Object.freeze({\r\n  SignUp: `${AccountModule.Auth}/SignUp`,\r\n\r\n  SignIn: `${AccountModule.Auth}/SignIn`,\r\n  SignInOauth: `${AccountModule.Auth}/SignInOauth`,\r\n\r\n  AccessToken: `${AccountModule.Auth}/RefreshToken`,\r\n  RefreshToken: `${AccountModule.Auth}/AccessToken`,\r\n\r\n  Update: `${AccountModule.Auth}/Update`,\r\n  ChangePassword: `${AccountModule.Profile}/ChangePassword`,\r\n  Deactivate: `${AccountModule.Profile}/Deactivate`,\r\n});\r\n","import { MicroServiceName } from '..';\r\n\r\nexport const AccountModule = Object.freeze({\r\n  Auth: `${MicroServiceName.Account}/Auth`,\r\n  Profile: `${MicroServiceName.Account}/Profile`,\r\n});\r\n","export const MicroServiceName = Object.freeze({\r\n  Account: 'AccountService',\r\n  Guild: 'GuildService',\r\n  Scripture: 'ScriptureService',\r\n});\r\n","import { AccountModule } from './module';\r\n\r\nexport const ProfileMsgPattern = Object.freeze({\r\n  UpdateExp: `${AccountModule.Profile}/UpdateExp`,\r\n  UpdateStreak: `${AccountModule.Profile}/UpdateStreak`,\r\n  UpdateRealm: `${AccountModule.Profile}/UpdateRealm`,\r\n  UpdatePersonal: `${AccountModule.Profile}/UpdatePersonal`,\r\n  Deactivate: `${AccountModule.Profile}/Deactivate`,\r\n\r\n  AddAchivement: `${AccountModule.Profile}/AddAchivement`,\r\n  RemoveAchivement: `${AccountModule.Profile}/RemoveAchivement`,\r\n\r\n  AddMaterialArt: `${AccountModule.Profile}/AddMaterialArt`,\r\n  RemoveMaterialArt: `${AccountModule.Profile}/RemoveMaterialArt`,\r\n});\r\n","\r\nexport * from './sign-in.dto';\r\nexport * from './deactivate.dto';\r\nexport * from './sign-in-oauth.dto';\r\nexport * from './create-account.dto';\r\nexport * from './change-password.dto';","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsEmail, IsNotEmpty } from 'class-validator';\r\n\r\nexport class SignInDto {\r\n  @IsEmail()\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    description: 'The email of the account.',\r\n    example: 'tangkinhcode@example.com',\r\n  })\r\n  email!: string;\r\n\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    description: 'Password must be not empty',\r\n    example: 'vodich123',\r\n  })\r\n  password!: string;\r\n}\r\n","module.exports = require(\"class-validator\");","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsNotEmpty } from 'class-validator';\r\n\r\nexport class DeactivateDto {\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    description: 'User id need to deactivate',\r\n    example: '8685-bdhh34-555123-6662312',\r\n  })\r\n  id!: string;\r\n}\r\n","import { ApiProperty } from '@nestjs/swagger';\r\nimport { IsNotEmpty } from 'class-validator';\r\n\r\nexport class SignInOauth {\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    example: 'codetmp77799',\r\n    description: 'The code of the provider after authenticate.',\r\n  })\r\n  code!: string;\r\n\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    example: 'GITHUB',\r\n    description:\r\n      'The credential type that user using for sign in, GOOGLE or GITHUB',\r\n  })\r\n  credentialType!: string;\r\n}\r\n","import { IsEmail, IsNotEmpty } from 'class-validator';\r\nimport { IsStrongPassword } from '@shared/validation/password';\r\nimport { IsPasswordMatch } from '@shared/validation/password-match';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\n\r\nexport class CreateAccountDto {\r\n  @IsEmail()\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    description: 'The email of the account.',\r\n    example: 'tangkinhcode@example.com',\r\n  })\r\n  email!: string;\r\n\r\n  @IsNotEmpty()\r\n  @IsStrongPassword()\r\n  @ApiProperty({\r\n    description:\r\n      'Password must be at least 8 characters long and contain at least one number.',\r\n    example: 'vodich123',\r\n  })\r\n  password!: string;\r\n\r\n  @IsNotEmpty()\r\n  @IsStrongPassword()\r\n  @ApiProperty({\r\n    description: 'Confirm password must match the password.',\r\n    example: 'vodich123',\r\n  })\r\n  @IsPasswordMatch('password', {\r\n    message: 'Password and confirm password must match.',\r\n  })\r\n  confirmPassword!: string;\r\n}\r\n","import {\r\n  registerDecorator,\r\n  ValidationOptions,\r\n  ValidatorConstraint,\r\n  ValidatorConstraintInterface,\r\n} from 'class-validator';\r\n\r\n// Define the custom validator logic\r\n@ValidatorConstraint({ async: false })\r\nexport class IsStrongPasswordConstraint\r\n  implements ValidatorConstraintInterface\r\n{\r\n  validate(password: string): boolean {\r\n    const regex = /^(?=.*\\d).{8,}$/; // At least 8 characters and contains at least one digit\r\n    return regex.test(password);\r\n  }\r\n\r\n  defaultMessage(): string {\r\n    return 'Password must be at least 8 characters long and contain at least one number.';\r\n  }\r\n}\r\n\r\n// Create the decorator\r\nexport function IsStrongPassword(validationOptions?: ValidationOptions) {\r\n  // eslint-disable-next-line @typescript-eslint/no-wrapper-object-types\r\n  return function (object: Object, propertyName: string) {\r\n    registerDecorator({\r\n      target: object.constructor,\r\n      propertyName: propertyName,\r\n      options: validationOptions,\r\n      constraints: [],\r\n      validator: IsStrongPasswordConstraint,\r\n    });\r\n  };\r\n}\r\n","import {\r\n  registerDecorator,\r\n  ValidationArguments,\r\n  ValidationOptions,\r\n  ValidatorConstraint,\r\n  ValidatorConstraintInterface,\r\n} from 'class-validator';\r\n\r\n@ValidatorConstraint({ async: false })\r\nexport class IsPasswordMatchConstraint implements ValidatorConstraintInterface {\r\n  validate(confirmPassword: string, args: ValidationArguments): boolean {\r\n    const [relatedPropertyName] = args.constraints;\r\n    const relatedValue = (args.object as any)[relatedPropertyName];\r\n    return confirmPassword === relatedValue;\r\n  }\r\n\r\n  defaultMessage(args: ValidationArguments): string {\r\n    return `Password and confirm password do not match.`;\r\n  }\r\n}\r\n\r\nexport function IsPasswordMatch(\r\n  property: string,\r\n  validationOptions?: ValidationOptions\r\n) {\r\n  // eslint-disable-next-line @typescript-eslint/no-wrapper-object-types\r\n  return function (object: Object, propertyName: string) {\r\n    registerDecorator({\r\n      target: object.constructor,\r\n      propertyName: propertyName,\r\n      options: validationOptions,\r\n      constraints: [property],\r\n      validator: IsPasswordMatchConstraint,\r\n    });\r\n  };\r\n}\r\n","import { IsEmail, IsNotEmpty } from 'class-validator';\r\nimport { IsStrongPassword } from '@shared/validation/password';\r\nimport { ApiProperty } from '@nestjs/swagger';\r\nexport class ChangePasswordDto {\r\n  @IsEmail()\r\n  @IsNotEmpty()\r\n  email!: string;\r\n\r\n  @IsNotEmpty()\r\n  @IsStrongPassword()\r\n  @ApiProperty({\r\n    description:\r\n      'New password must be at least 8 characters long and contain at least one number.',\r\n    example: 'chicken123',\r\n  })\r\n  newPassword!: string;\r\n\r\n  @IsNotEmpty()\r\n  @ApiProperty({\r\n    description: 'Your current password',\r\n    example: 'vodich123',\r\n  })\r\n  currentPassword!: string;\r\n}\r\n","export * from './guard.guard';\r\nexport * from './public.decorator';\r\n","import {\r\n  CanActivate,\r\n  ExecutionContext,\r\n  Injectable,\r\n  UnauthorizedException,\r\n  Logger,\r\n} from '@nestjs/common';\r\nimport { Reflector } from '@nestjs/core';\r\nimport { JwtService } from '@nestjs/jwt';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n  private readonly logger = new Logger(AuthGuard.name);\r\n\r\n  constructor(private reflector: Reflector, private jwtService: JwtService) {}\r\n\r\n  canActivate(context: ExecutionContext): boolean | Promise<boolean> {\r\n    const isPublic = this.reflector.get<boolean>(\r\n      'isPublic',\r\n      context.getHandler()\r\n    );\r\n\r\n    if (isPublic) {\r\n      this.logger.log('Public route accessed.');\r\n      return true;\r\n    }\r\n\r\n    const request = context.switchToHttp().getRequest();\r\n    const authHeader = request.headers['authorization'];\r\n\r\n    if (!authHeader) {\r\n      this.logger.warn('No Authorization header provided.');\r\n      throw new UnauthorizedException('Authorization header missing');\r\n    }\r\n\r\n    const token = authHeader.split(' ')[1];\r\n\r\n    if (!token) {\r\n      this.logger.warn('No token found in Authorization header.');\r\n      throw new UnauthorizedException('Token missing');\r\n    }\r\n\r\n    try {\r\n      const decoded = this.jwtService.verify(token);\r\n      request.user = decoded; // Attach user info to the request\r\n      this.logger.log('Token verified successfully');\r\n      return true;\r\n    } catch (error: any) {\r\n      this.logger.error('Token verification failed:', error.message);\r\n      throw new UnauthorizedException('Invalid or expired token');\r\n    }\r\n  }\r\n}\r\n","module.exports = require(\"@nestjs/jwt\");","import { SetMetadata } from '@nestjs/common';\r\n\r\nexport const IS_PUBLIC_KEY = 'isPublic';\r\nexport const Public = () => SetMetadata(IS_PUBLIC_KEY, true);\r\n","import { Module } from '@nestjs/common';\r\nimport { ProfileController } from './profile.controller';\r\n\r\n@Module({\r\n  controllers: [ProfileController],\r\n})\r\nexport class ProfileModule {}\r\n","import { Body, Controller, HttpStatus, Patch, Post } from '@nestjs/common';\r\nimport { ApiOperation, ApiProperty, ApiResponse } from '@nestjs/swagger';\r\n\r\nclass UpdateStreakDto {\r\n  @ApiProperty()\r\n  id: string;\r\n}\r\n\r\nclass UpdateExpDto {\r\n  @ApiProperty()\r\n  id: string;\r\n\r\n  @ApiProperty()\r\n  exp: number;\r\n}\r\n\r\n@Controller('profile')\r\nexport class ProfileController {\r\n  \r\n  @Patch('updateStreak')\r\n  @ApiOperation({ summary: 'Update Streak' })\r\n  @ApiResponse({\r\n    status: HttpStatus.UNAUTHORIZED,\r\n    description: 'Unauthorized',\r\n  })\r\n  updateStreak(@Body() dto: UpdateStreakDto) {\r\n    return {\r\n      message: 'update successfully',\r\n      data: dto,\r\n    };\r\n  }\r\n\r\n  @Patch('updateExp')\r\n  @ApiOperation({ summary: 'Update Exp' })\r\n  @ApiResponse({\r\n    status: HttpStatus.UNAUTHORIZED,\r\n    description: 'Unauthorized',\r\n  })\r\n  updateExp(@Body() dto: UpdateExpDto) {\r\n    return {\r\n      message: 'update exp successfully',\r\n      data: dto,\r\n    };\r\n  }\r\n}\r\n","export * from './lib/nats-client.module';\r\n","import { Global, Module } from '@nestjs/common';\r\nimport { ClientsModule, Transport } from '@nestjs/microservices';\r\n\r\n@Global()\r\n@Module({\r\n  imports: [\r\n    ClientsModule.register([\r\n      {\r\n        name: 'NATS_SERVICE',\r\n        transport: Transport.NATS,\r\n        options: {\r\n          servers: [process.env['NATS_URL'] as string],\r\n        },\r\n      },\r\n    ]),\r\n  ],\r\n  exports: [\r\n    ClientsModule.register([\r\n      {\r\n        name: 'NATS_SERVICE',\r\n        transport: Transport.NATS,\r\n        options: {\r\n          servers: [process.env['NATS_URL'] as string],\r\n        },\r\n      },\r\n    ]),\r\n  ],\r\n})\r\nexport class NatsClientModule {}\r\n","export * from './lib/config.model';\r\nexport * from './lib/configuration';","import { Dialect } from 'sequelize';\r\n\r\nexport type DatabaseConfig = {\r\n  port: number | undefined;\r\n  host: string | undefined;\r\n  username: string | undefined;\r\n  password: string | undefined;\r\n  database: string | undefined;\r\n  dialect: Dialect;\r\n};\r\n\r\nexport type NatsMicroserviceConfig = {\r\n  natsUrl: string | undefined;\r\n  natsPort: number;\r\n  natsInterPort: number;\r\n};\r\n\r\nexport type GitHubConfig = {\r\n  client_id: string | undefined;\r\n  client_secret: string | undefined;\r\n  url: string | undefined;\r\n};\r\n\r\nexport type Configuration = {\r\n  port: number | undefined;\r\n  nodeEnv: string | undefined;\r\n  database: DatabaseConfig;\r\n  saltRounds: number | undefined;\r\n  microservice: NatsMicroserviceConfig;\r\n  jwtSecretKey: string | undefined;\r\n  jwtPrivateKey: string | undefined;\r\n  github: GitHubConfig;\r\n};\r\n","import { Configuration } from './config.model';\r\n\r\nexport const Configurations = (): Configuration => ({\r\n  port: parseInt(process.env['POSTGRES_PORT'] as string) || 3000,\r\n  nodeEnv: process.env['NODE_ENV'],\r\n  saltRounds: parseInt(process.env['SALT_ROUNDS'] as string) || 10,\r\n  jwtSecretKey: process.env['JWT_SECRET_KEY'],\r\n  jwtPrivateKey: process.env['JWT_PRIVATE_KEY'],\r\n  github: {\r\n    client_id: process.env['GITHUB_CLIENT_ID'],\r\n    client_secret: process.env['GITHUB_CLIENT_SECRET'],\r\n    url: process.env['GITHUB_AUTHORIZE_URL'],\r\n  },\r\n  database: {\r\n    host: process.env['POSTGRES_HOST'],\r\n    port: parseInt(process.env['POSTGRES_PORT'] as string) || 5432,\r\n    username: process.env['POSTGRES_USERNAME'],\r\n    password: process.env['POSTGRES_PASSWORD'],\r\n    database: process.env['POSTGRES_DB'],\r\n    dialect: 'postgres',\r\n  },\r\n  microservice: {\r\n    natsUrl: process.env['NATS_URL'],\r\n    natsPort: parseInt(process.env['NATS_PORT'] as string) || 4222,\r\n    natsInterPort: parseInt(process.env['NATS_INTER_PORT'] as string) || 8222,\r\n  },\r\n});\r\n","module.exports = require(\"@nestjs/config\");","export * from './jwt.module';\r\n","import { Global, Module } from '@nestjs/common';\r\nimport { JwtModule } from '@nestjs/jwt';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport { Configurations } from '@shared/configs';\r\n\r\n@Global()\r\n@Module({\r\n  imports: [\r\n    JwtModule.registerAsync({\r\n      imports: [\r\n        ConfigModule.forRoot({\r\n          load: [Configurations],\r\n          isGlobal: true,\r\n        }),\r\n      ],\r\n      inject: [ConfigService],\r\n      useFactory: async (configService: ConfigService) => ({\r\n        secret: configService.get<string>('jwtSecretKey'),\r\n        privateKey: configService.get<string>('jwtPrivateKey'),\r\n        signOptions: {\r\n          algorithm: 'HS256',\r\n        },\r\n      }),\r\n    }),\r\n  ],\r\n  exports: [JwtModule],\r\n})\r\nexport class JwtGlobalModule {}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\r\n * This is not a production server yet!\r\n * This is only a minimal backend to get started.\r\n */\r\n\r\nimport { Logger, ValidationPipe } from '@nestjs/common';\r\nimport { NestFactory } from '@nestjs/core';\r\nimport { AuthGuard } from '@shared/guard';\r\nimport { Reflector } from '@nestjs/core';\r\nimport { SwaggerModule, DocumentBuilder } from '@nestjs/swagger';\r\nimport { AppModule } from './app/app.module';\r\n\r\nasync function bootstrap() {\r\n  const app = await NestFactory.create(AppModule);\r\n  const globalPrefix = 'api';\r\n\r\n  app.enableCors({\r\n    origin: '*',\r\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\r\n    preflightContinue: false,\r\n    optionsSuccessStatus: 204,\r\n    credentials: true,\r\n  });\r\n\r\n  app.setGlobalPrefix(globalPrefix);\r\n\r\n  app.useGlobalPipes(\r\n    new ValidationPipe({\r\n      whitelist: true,\r\n    })\r\n  );\r\n\r\n  const config = new DocumentBuilder()\r\n    .setTitle('TangKinhCode API')\r\n    .setDescription('The TangKinhCode API description')\r\n    .setVersion('1.0')\r\n    .addTag('TangKinhCode')\r\n    .build();\r\n\r\n  const documentFactory = () => SwaggerModule.createDocument(app, config);\r\n  SwaggerModule.setup('', app, documentFactory);\r\n\r\n  const port = process.env.PORT || 3000;\r\n  await app.listen(port);\r\n  Logger.log(\r\n    `🚀 Application is running on: http://localhost:${port}/${globalPrefix}`\r\n  );\r\n}\r\n\r\nbootstrap();\r\n"],"names":[],"sourceRoot":""}